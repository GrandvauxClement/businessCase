<div class="container-fluid mt-5">
  <h2 class="text-center mytext-orange"> Bienvenue sur la page consacré à la gestion de vos professionelle référencé</h2>
  <div class="row">
    <div class="col-3">
      <app-navside></app-navside>
    </div>
    <div class="col">

    <!--<kt-portlet>-->
  <div *ngIf="isLoading === true">
    <div role="status" class="d-flex justify-content-center">
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
    </div>
  </div>
  <!--<kt-portlet-header [title]="'Liste des utilisateurs'" [class]="'card-head-lg'">
    <ng-container ktPortletTools>
      <button [routerLink]="['/users/add-user']" mat-raised-button color="primary" matTooltip="Ajouter un utilisateur">Ajouter un utilisateur</button>
    </ng-container>
  </kt-portlet-header>-->
    <div >
      <div class="p-2">
        <mat-form-field>
          <input matInput (keyup)="applyFilter($event.target.value)"
                 placeholder="Rechercher...">
        </mat-form-field>
      </div>
      <div class="d-flex">
        <p *ngIf="selection.selected.length === 1 || selection.selected.length === 0"
           class="text-secondary bg-light p-2 rounded">
          {{selection.selected.length}} utilisateur selectionné
        </p>
        <p *ngIf="selection.selected.length > 1"
           class="text-secondary bg-light p-2 rounded">
          {{selection.selected.length}} utilisateurs selectionnés
          <button mat-icon-button color="warn" matTooltip="" type="button" (click)="removeSelectedRows(selection.selected.length)">
            <mat-icon>delete</mat-icon>
          </button>
        </p>
      </div>
      <div class="d-flex">
        <button [routerLink]="['/add-pro']" mat-raised-button color="primary" matTooltip="Ajouter un utilisateur">Ajouter un utilisateur</button>
      </div>
    </div>

    <table mat-table [dataSource]="dataSource" matSort>
      <!-- Checkbox Column -->
      <ng-container matColumnDef="select">
        <th mat-header-cell *matHeaderCellDef >
          <mat-checkbox (change)="$event ? masterToggle() : null"
                        [checked]="selection.hasValue() && isAllSelected()"
                        [indeterminate]="selection.hasValue() && !isAllSelected()"
                        [aria-label]="checkboxLabel()">
          </mat-checkbox>
        </th>
        <td mat-cell *matCellDef="let row" >
          <mat-checkbox (click)="$event.stopPropagation()"
                        (change)="$event ? selection.toggle(row) : null"
                        [checked]="selection.isSelected(row)"
                        [aria-label]="checkboxLabel(row)">
          </mat-checkbox>
        </td>
      </ng-container>
      <!-- Position Column -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="col">  </th>
        <td mat-cell *matCellDef="let user">  </td>
      </ng-container>

      <!-- Username Column -->
      <ng-container matColumnDef="username">
        <th mat-header-cell *matHeaderCellDef mat-sort-header scope="col"> Email d'utilisateur
        </th>
        <td mat-cell *matCellDef="let user"> {{user.username}} </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Nom
        </th>
        <td mat-cell *matCellDef="let user"> {{user.nom}} </td>
      </ng-container>

      <!-- Firstname Column -->
      <ng-container matColumnDef="firstname">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Prénom </th>
        <td mat-cell *matCellDef="let user"> {{user.prenom}} </td>
      </ng-container>

      <!-- NumTel Column -->
      <ng-container matColumnDef="phone">
        <th mat-header-cell *matHeaderCellDef mat-sort-header> Télephone </th>
        <td mat-cell *matCellDef="let user"> {{user.numTelephone }} </td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef> Actions </th>
        <td mat-cell *matCellDef="let user">
          <button [routerLink]="['/edit-pro', user.id]" mat-icon-button color="primary" matTooltip="">
            <mat-icon>create</mat-icon>
          </button>&nbsp;
          <button mat-icon-button color="warn" matTooltip="" type="button" (click)="confirmDialog(user)">
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;">
      </tr>
    </table>
    <!-- Paginator -->
    <mat-paginator pageSize=10 [pageSizeOptions]="[10, 20]" showFirstLastButtons></mat-paginator>
  </div>
<!--</kt-portlet>-->
  </div>
</div>
